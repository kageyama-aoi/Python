# 理想的なリファクタリング依頼プロンプトガイド

## 1. はじめに
本ドキュメントは、今回実施した「自動化ツールのGUI化およびUX改善」のようなタスクを、AIエージェントに対して一発で高品質に依頼するためのプロンプト設計ガイドです。
AIは具体的であればあるほど、期待に近い（あるいは超える）成果物を出力します。

## 2. プロンプト構成のポイント
単に「GUIにしてください」と伝えるだけでは、最低限の実装（フラットなリスト構造など）になりがちです。以下の要素を含めることで、解像度を高めることができます。

1.  **コンテキスト（背景と目的）**: なぜ変えたいのか？今の何が問題なのか？
2.  **ユーザーシナリオ**: ユーザーは実際にどういう手順で操作したいのか？
3.  **構造的要件**: データや画面の階層構造はどうあるべきか？
4.  **UX/UIへのこだわり**: 「楽さ」「直感性」の定義。

## 3. 理想的なプロンプト例

以下は、今回の成果物を最初から引き出すためのプロンプト例です。

---

### プロンプトテンプレート

**【依頼内容】**
現在CLI（コマンドライン）で行っているPython製自動化ツールの入力インターフェースを、Tkinterを使ってモダンで使いやすいGUIにリファクタリングしてください。

**【現状の課題】**
現在は `cl`, `h`, `up` などのコマンドをキー入力させていますが、以下の点で使いづらいです。
1.  **選択肢の混在**: 「勤怠入力」と「タスクレポート作成(TR)」という全く異なる目的の選択肢がフラットに並んでいて分かりにくい。
2.  **関連性の欠如**: `up`（更新依頼）を選んだ時だけ環境名（`u`, `t`...）を入力する必要があるが、いつ入力が必要かが直感的に分からない。
3.  **無駄な情報**: プルダウンなどの選択肢に `u: UAT` のような内部キーを表示したくない。ユーザーは「UAT」だけを見れば良い。

**【実現したいUX（要件）】**
以下のフローを実現するGUI画面と、それを支えるConfig構造の変更をお願いします。

1.  **2段階選択**:
    - まず最上位で「勤怠」か「TR」かを選ばせる（ラジオボタン）。
    - 「TR」を選んだ時だけ、詳細なプロジェクト種別一覧を有効化する。
2.  **動的なレイアウト**:
    - TR種別の中で「UP依頼」を選んだ場合のみ、その**直下（インデント付き）**に「対象環境」のプルダウンを表示・有効化する。
    - 関連する項目は物理的にも近くに配置し、視線の移動を減らすこと。
3.  **スマートなデフォルト**:
    - 環境選択プルダウンは、よく使う項目（例: UAT2）をデフォルトで選択状態にする。
    - 内部キー（`u`など）はユーザーに見せず、ラベル（`UAT2`）だけで選択させる。

**【出力物】**
- Configファイルの構造変更案（階層化・リスト化）
- `src/gui.py` の実装コード
- `src/main.py` の修正

---

## 4. 解説
このプロンプトの優れている点は、**「構造（2段階選択）」**と**「配置（直下にインデント）」**を明示した点です。
これにより、AIは「単にウィジェットを並べる」のではなく、「ユーザーのメンタルモデルに合わせたグルーピング」を意識してコードを生成するようになります。
