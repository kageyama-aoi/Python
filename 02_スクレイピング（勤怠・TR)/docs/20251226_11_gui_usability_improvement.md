# GUI Usability Improvement Plan

## 1. 目的
現在のGUIにおける「環境選択」のUI/UXを改善する。
CLI時代のキー入力（t, u...）に基づいた名残を排除し、マウス操作（プルダウン選択）において最も自然で直感的な操作感を実現する。

## 2. 現状の課題と違和感
- **情報の乖離**: TR種別（例: UP依頼）と、それに付随する「環境選択」の項目が物理的に離れており、操作の連動性が薄く感じられる。
- **不要な情報の表示**: プルダウン内に `t: trainingGCP` のように内部キーが表示されている。GUIでは「名前（trainingGCP）」だけが見えていれば十分であり、キーの表示はノイズとなっている。
- **選択の手間**: 以前のCLIでは「U」と一文字打つのが楽だったが、プルダウン化された現在は、いかに少ない視線移動とクリックで目的の環境を選べるかが重要。

## 3. 改善案

### 3.1 データ構造のシンプル化 (`config/config.yaml`)
「キー」による管理を廃止し、人間が読みやすいラベル（表示名）を直接定義する形式、あるいは順序を保証できるリスト形式に変更する。

**改善後のConfigイメージ:**
```yaml
  environment_options:
    - "trainingGCP"
    - "UAT2"
    - "smbcpos_training"
    - "smbcpos_uat"
```

### 3.2 UIレイアウトと挙動の改善 (`src/gui.py`)

#### A. プルダウン表示の純粋化
- コンボボックス内には `trainingGCP` のように環境名のみを表示する。
- 内部的なパース処理 (`split(': ')`) を廃止し、選択した値をそのまま `environment_name` として利用する。

#### B. 連動性の視覚的強化
- **インライン配置の検討**: 可能であれば、TR種別のリストの中で「UP依頼」のすぐ横、または直下に環境選択プルダウンを配置する。
- **ガイド表示**: 環境選択が有効になった際、ラベルの色を変える、あるいはプルダウンの背景色をわずかに変えることで、「今ここを選ぶ必要がある」ことを強調する。

### 3.3 操作フローの最適化
- **デフォルト値の設定**: よく使う環境（例: UAT2）をデフォルトで選択済みにしておくことで、大抵の場合は「UP依頼」を選ぶだけで済むようにする。
- **ソート順**: ユーザーの使用頻度が高い順に並べる。

## 4. 修正後の画面イメージ案
1. **モード選択**: (o) タスクレポート作成 (TR)
2. **TR詳細**:
   - ( ) 標準
   - ( ) Yamaha
   - (o) Shimamura_UAT_UP依頼
     └─ **対象環境**: [ UAT2             | ▼ ]  <-- ここをUP依頼の直下に配置
   - ( ) Shimamura_mysql対応

## 5. 期待される効果
- **認知負荷の低減**: 不要なキー情報（t, u）が消え、文字情報が整理される。
- **操作ミスの防止**: 関連する設定が近くにまとまることで、環境の選び忘れや間違いを防ぐ。
- **直感的な操作**: 「何を選んでいるか」が一目でわかり、以前のCLIよりも「楽」に感じられる。
