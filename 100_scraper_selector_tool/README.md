# セレクタ抽出ツール

Webページの要素をクリックするだけで、その要素のセレクタ情報（ID, Class, XPathなど）を簡単に取得できるツールです。WebスクレイピングやE2Eテストのセレクタ選定作業を効率化することを目的としています。

## 主な機能

- **要素情報の取得**: クリックしたHTML要素の以下の情報を取得します。
  - タグ名
  - ID
  - クラス名
  - XPath
  - 表示テキスト (`value`, `innerText`, `alt` の優先順で取得)
- **視覚的フィードバック**:
  - クリックした要素が一時的に**赤枠**で強調表示されます。
  - リンク遷移などの本来のクリック動作は無効化されるため、同じページ内で連続して要素を調査できます。
- **2つの動作モード**:
  - **ポップアップ表示モード**: 取得した情報をブラウザの`alert()`で表示します。手軽に確認したい場合に便利です。
  - **ログ出力モード**: 取得した情報をコンソール経由でログファイル (`logs/selector_log.txt`) にタイムスタンプ付きで記録します。複数の要素を連続して調査する場合に便利です。
- **自動ブラウザ起動 & URL指定**:
  - ツール画面で調査対象のURLを自由に指定できます。
  - ページ遷移やリロードを行っても、自動的に調査用スクリプトが再注入されます。

## 必要なもの

- Python 3
- Google Chrome ブラウザ
- Pythonライブラリ（`requirements.txt` 参照）

## インストール

1.  このツールを任意のフォルダに配置します。

2.  必要なPythonライブラリをインストールします。ターミナルやコマンドプロンプトで以下のコマンドを実行してください。
    ```bash
    pip install -r requirements.txt
    ```

## 使い方

1.  **`run_selector_tool.bat`** をダブルクリックしてツールを起動します。
    *(MacやLinuxの場合は、ターミナルで `python main.py` を実行してください)*

2.  表示されたウィンドウで以下の操作を行います。
    - **調査対象URL**: 調査したいWebページのURLを入力します（デフォルト入力あり）。
    - **動作モード**: 「ポップアップ表示」または「ログ出力」を選択します。

3.  **「ブラウザ起動」** ボタンをクリックします。

4.  Google Chromeが自動で起動し、指定したURLが表示されます。

5.  ページ上の任意の要素をクリックします。
    - クリックした要素が一瞬**赤枠**になり、クリック動作（画面遷移等）はキャンセルされます。
    - **ポップアップ表示モードの場合**: クリックした要素の情報がダイアログで表示されます。
    - **ログ出力モードの場合**: クリックした要素の情報が `logs/selector_log.txt` ファイルに追記されます。

6.  ツールを終了するには、起動したブラウザを閉じてください。

## ファイル構成

```
.
├── logs/
│   └── selector_log.txt  # ログモードで出力されるファイル
├── js/
│   └── injector.js       # ブラウザに注入されるJavaScript
├── browser_driver.py     # Seleniumによるブラウザ制御ロジック
├── main.py               # TkinterによるGUIアプリケーション
├── run_selector_tool.bat # (Windows用) ツール起動バッチファイル
├── requirements.txt      # 依存ライブラリ一覧
└── README.md             # このファイル
```
