# ファイル構成とソースコードの再構築計画

本ドキュメントは、リファクタリングの次のステップとして、ファイル名の変更とソースコードの構造化（汎用化・ひな形化）に向けた計画をまとめたものです。

## 1. ファイル名の変更提案

現状の具体的すぎるファイル名を、より汎用的で役割が明確な名前に変更します。

| 現在のファイル名 | 新しいファイル名 | 役割・理由 |
| :--- | :--- | :--- |
| `create_task_report.py` | `main.py` | アプリケーションのエントリーポイント。 |
| `task_report_input_handler.py` | `form_handler.py` | 汎用的なフォーム操作ハンドラ。 |
| `element_utils.py` | `browser_utils.py` | ブラウザ・要素操作のユーティリティ。 |
| `constants.py` | `config.py` | 設定・定数定義。将来的に外部設定読み込みの基盤となる。 |

## 2. ソースコード修正方針

ファイル名変更に伴い、内部構造もよりPython的で汎用性の高い形に修正します。

### A. インポート文の修正
*   ファイル名変更に合わせて、全ファイルの `import` 文を修正します。

### B. エントリーポイントの整理 (`main.py`)
*   **`main()` 関数化**: トップレベルに記述されている処理を `main()` 関数にカプセル化し、`if __name__ == "__main__":` イディオムを使用します。
*   **ユーザー入力の分離**: ユーザーからの入力を受け付ける処理を `get_user_input()` などの関数に切り出します。

### C. 設定の構造化 (`config.py`)
*   **設定クラス/辞書の導入**: 変数の羅列から、関連する設定をまとめた構造（クラスまたは辞書）に変更します。これは将来のYAML/JSON読み込みの受け皿となります。

### D. ハンドラの汎用化 (`form_handler.py`)
*   **メソッド名の変更**: `setItems` -> `fill_form` または `execute` など、具体的な動作を表す名前に変更します。
*   **引数の汎用化**: コンストラクタ引数を具体的な変数（`schools_type` 等）から、辞書型のコンテキスト（`context` や `params`）に変更し、柔軟性を持たせます。

## 3. 実施ステップ

以下の順序で段階的に適用します。

### Step 1: ファイルリネームとインポート修正
1.  OS上でファイル名を変更する。
2.  各ファイル内の `import` 文、およびモジュール参照を新しいファイル名に合わせて修正する。
3.  動作確認（リネームによる破損がないか）。

### Step 2: エントリーポイントの構造化
1.  `main.py` を修正し、`main()` 関数と `if __name__ == "__main__":` ブロックを作成する。
2.  ユーザー入力処理を関数に切り出す。

### Step 3: ハンドラのメソッド・引数リファクタリング
1.  `form_handler.py` の `setItems` をリネームする。
2.  コンストラクタとメソッドの引数を汎用的な形（辞書受け渡しなど）に修正する。
3.  呼び出し元 (`main.py`) を合わせて修正する。

### Step 4: 設定の構造化（準備）
1.  `config.py` 内の定数を整理し、将来的な外部読み込みに適した形にする。
